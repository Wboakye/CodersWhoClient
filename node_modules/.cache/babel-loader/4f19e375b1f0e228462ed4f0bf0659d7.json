{"ast":null,"code":"var _jsxFileName = \"/Users/william/Desktop/codersWho/coderswhoclient/src/components/views/Register.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faLock } from '@fortawesome/free-solid-svg-icons';\n\nrequire('dotenv/config');\n\nconst host = 'http://localhost:3005'; //const host = process.env.API_HOST;\n\nconsole.log('local host ' + host);\nexport default class SignUp extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.checkExists = event => {\n      const itemName = event.target.name;\n      const item = event.target.value;\n      axios.post(host + '/api/user/' + itemName + 'exists', itemName === 'email' ? {\n        email: item\n      } : {\n        username: item\n      }).then(response => {\n        if (response.data === true) {\n          //IF RESPONSE TRUE: SET ERROR MESSAGE\n          itemName === 'email' ? this.setState({\n            emailError: 'Email already exists'\n          }) : this.setState({\n            usernameExists: 'Username already exists'\n          });\n        } else {\n          //IF RESPONSE FALSE: SET NO OR REMOVE ERROR MESSAGE\n          itemName === 'email' ? this.setState({\n            emailExists: ''\n          }) : this.setState({\n            usernameExists: ''\n          });\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.validate = event => {\n      //REGEX: AN UPPER, LOWER, AND NUMERIC \n      let passwordCheck = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).{6,100}$/; //IF INPUT IS EMAIL CHECKS THAT IT CONTAINS \"@\" AND \".\"\n\n      if (event.target.name === 'email') {\n        if (this.state.email && (!this.state.email.includes('@') || !this.state.email.includes('.'))) {\n          this.setState({\n            emailError: 'Invalid email'\n          });\n        } else {\n          this.setState({\n            emailError: ''\n          });\n        }\n      } //IF INPUT IS FIRST PASSWORD, CHECKS THAT IT MATCHES REGEX\n\n\n      if (event.target.name === 'password1') {\n        if (this.state.password1 && !this.state.password1.match(passwordCheck)) {\n          this.setState({\n            password1Error: 'Password must contain: one lowercase, one uppercase, one numeric character, and be at least 6 characters in length.'\n          });\n        } else {\n          this.setState({\n            password1Error: ''\n          });\n        }\n      } //IF INPUT IS SECOND PASSWORD, CHECKS THAT IT MATCHES FIRST PASSWORD\n\n\n      if (event.target.name === 'password2') {\n        if (this.state.password2 && this.state.password1 !== this.state.password2) {\n          this.setState({\n            password2Error: 'Passwords do not match'\n          });\n        } else {\n          this.setState({\n            password2Error: ''\n          });\n        }\n      }\n    };\n\n    this.handleEmail = event => {\n      this.validate(event);\n      this.checkExists(event);\n    };\n\n    this.state = {\n      firstName: '',\n      lastName: '',\n      email: '',\n      password1: '',\n      password2: '',\n      usernameExists: '',\n      emailExists: '',\n      emailError: '',\n      usernameError: '',\n      password1Error: '',\n      password2Error: ''\n    };\n    this.validate = this.validate.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleEmail = this.handleEmail.bind(this);\n  } //STORES INPUT IN LOCAL STATE\n\n\n  render() {\n    return React.createElement(Container, {\n      component: \"main\",\n      maxWidth: \"xs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(Box, {\n      mt: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      className: \"p-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      className: \"mb-3\",\n      icon: faLock,\n      style: {\n        color: \"#4051B5\"\n      },\n      size: \"4x\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(Typography, {\n      component: \"h1\",\n      variant: \"h5\",\n      className: \"mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Sign up\"))), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      noValidate: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      spacing: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      autoComplete: \"fname\",\n      name: \"firstName\",\n      variant: \"outlined\",\n      required: true,\n      fullWidth: true,\n      id: \"firstName\",\n      label: \"First Name\",\n      autoFocus: true,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      variant: \"outlined\",\n      required: true,\n      fullWidth: true,\n      id: \"lastName\",\n      label: \"Last Name\",\n      name: \"lastName\",\n      autoComplete: \"lname\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      error: this.state.usernameExists ? true : false,\n      variant: \"outlined\",\n      required: true,\n      fullWidth: true,\n      id: \"username\",\n      label: \"Username\",\n      name: \"username\",\n      autoComplete: \"username\",\n      helperText: this.state.usernameExists,\n      onBlur: this.checkExists,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      error: this.state.emailExists || this.state.emailError ? true : false,\n      variant: \"outlined\",\n      required: true,\n      fullWidth: true,\n      id: \"email\",\n      label: \"Email Address\",\n      name: \"email\",\n      autoComplete: \"email\",\n      helperText: this.state.emailExists + this.state.emailError,\n      onBlur: this.handleEmail,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      error: this.state.password1Error ? true : false,\n      variant: \"outlined\",\n      required: true,\n      fullWidth: true,\n      name: \"password1\",\n      label: \"Password\",\n      type: \"password\",\n      id: \"password1\",\n      autoComplete: \"current-password\",\n      helperText: this.state.password1Error,\n      onBlur: this.validate,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      error: this.state.password2Error ? true : false,\n      variant: \"outlined\",\n      required: true,\n      fullWidth: true,\n      name: \"password2\",\n      label: \"Re-enter password\",\n      type: \"password\",\n      id: \"password2\",\n      autoComplete: \"current-password\",\n      helperText: this.state.password2Error,\n      onBlur: this.validate,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }))), React.createElement(Button, {\n      className: \"mt-3\",\n      type: \"submit\",\n      fullWidth: true,\n      variant: \"contained\",\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, \"Sign Up\"), React.createElement(Grid, {\n      container: true,\n      justify: \"flex-end\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      className: \"mt-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, React.createElement(Link, {\n      href: \"/login\",\n      variant: \"body2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, \"Already have an account? Sign in\")))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/william/Desktop/codersWho/coderswhoclient/src/components/views/Register.js"],"names":["React","axios","Paper","Button","CssBaseline","TextField","Link","Grid","Box","Typography","Container","FontAwesomeIcon","faLock","require","host","console","log","SignUp","Component","constructor","props","handleChange","event","setState","target","name","value","checkExists","itemName","item","post","email","username","then","response","data","emailError","usernameExists","emailExists","catch","error","validate","passwordCheck","state","includes","password1","match","password1Error","password2","password2Error","handleEmail","firstName","lastName","usernameError","bind","render","color","handleSubmit"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faLock } from '@fortawesome/free-solid-svg-icons'\n\nrequire('dotenv/config');\n\nconst host = 'http://localhost:3005'\n//const host = process.env.API_HOST;\nconsole.log('local host ' + host)\n\nexport default class SignUp extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      firstName: '',\n      lastName: '',\n      email: '',\n      password1: '',\n      password2: '',\n      usernameExists: '',\n      emailExists: '',\n      emailError: '',\n      usernameError: '',\n      password1Error: '',\n      password2Error: '',\n    }\n    this.validate = this.validate.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleEmail = this.handleEmail.bind(this);\n\n  }\n\n  //STORES INPUT IN LOCAL STATE\n  handleChange = event => {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  //CHECKS IF EMAIL/USERNAME ALREADY EXISTS\n  checkExists = (event) => {\n    const itemName = event.target.name;\n    const item = event.target.value;\n\n    axios.post(host + '/api/user/' + itemName + 'exists', \n    itemName === 'email' ? {email: item} : {username: item})\n    .then((response) => {\n      if(response.data === true){\n        //IF RESPONSE TRUE: SET ERROR MESSAGE\n        itemName === 'email' ? \n        this.setState({\n          emailError: 'Email already exists'\n        }) : \n        this.setState({\n          usernameExists: 'Username already exists'\n        })\n      }else{\n        //IF RESPONSE FALSE: SET NO OR REMOVE ERROR MESSAGE\n        itemName === 'email' ? this.setState({\n          emailExists: '',\n        }) : this.setState({\n          usernameExists: '',\n        })\n    }})\n    .catch((error)=> {\n      console.log(error);\n    });\n  }\n\n  // CHECKS FOR VALID USER INPUTS, IF INVALID DISPLAYS ERROR MESSAGE\n  validate = (event) => {\n\n    //REGEX: AN UPPER, LOWER, AND NUMERIC \n    let passwordCheck = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).{6,100}$/\n    \n    //IF INPUT IS EMAIL CHECKS THAT IT CONTAINS \"@\" AND \".\"\n    if(event.target.name === 'email'){\n      if (this.state.email && (!this.state.email.includes('@') || \n        !this.state.email.includes('.'))) {\n        this.setState({emailError: 'Invalid email'})\n      }else{\n        this.setState({emailError: ''})\n      }\n    }\n\n    //IF INPUT IS FIRST PASSWORD, CHECKS THAT IT MATCHES REGEX\n    if(event.target.name === 'password1'){\n      if (this.state.password1 && !this.state.password1.match(passwordCheck)) {\n        this.setState({password1Error: 'Password must contain: one lowercase, one uppercase, one numeric character, and be at least 6 characters in length.'})\n      }else{\n        this.setState({password1Error: ''})\n      }\n    }\n\n    //IF INPUT IS SECOND PASSWORD, CHECKS THAT IT MATCHES FIRST PASSWORD\n    if(event.target.name === 'password2'){\n      if(this.state.password2 && this.state.password1 !== this.state.password2){\n        this.setState({password2Error: 'Passwords do not match'})\n      }else{\n        this.setState({password2Error: ''})\n      }\n    }\n  }\n\n  //VALIDATES EMAIL THEN CHECKS IF EMAIL EXISTS\n  handleEmail = (event) => {\n    this.validate(event)\n    this.checkExists(event)\n  }\n\n  render(){\n    return (\n      <Container component=\"main\" maxWidth=\"xs\">\n        <Box mt={8}>\n          <Paper className='p-5'>\n          <div className='row'>\n              <div className=\"col text-center\">\n                <FontAwesomeIcon className=\"mb-3\" icon={faLock} style={{color: \"#4051B5\"}} size=\"4x\" />\n                <Typography component=\"h1\" variant=\"h5\" className=\"mb-3\">\n                  Sign up\n                </Typography>\n              </div>\n            </div>\n            <form onSubmit={this.handleSubmit} noValidate>\n              <Grid container spacing={2}>\n                <Grid item xs={12} sm={6}>\n                  <TextField\n                    autoComplete=\"fname\"\n                    name=\"firstName\"\n                    variant=\"outlined\"\n                    required\n                    fullWidth\n                    id=\"firstName\"\n                    label=\"First Name\"\n                    autoFocus\n                    onChange={this.handleChange}\n                  />\n                </Grid>\n                <Grid item xs={12} sm={6}>\n                  <TextField\n                    variant=\"outlined\"\n                    required\n                    fullWidth\n                    id=\"lastName\"\n                    label=\"Last Name\"\n                    name=\"lastName\"\n                    autoComplete=\"lname\"\n                    onChange={this.handleChange}\n                  />\n                </Grid>\n                <Grid item xs={12}>\n                  <TextField\n                    error={this.state.usernameExists ? true : false}\n                    variant=\"outlined\"\n                    required\n                    fullWidth\n                    id=\"username\"\n                    label='Username'\n                    name=\"username\"\n                    autoComplete=\"username\"\n                    helperText={this.state.usernameExists}\n                    onBlur={this.checkExists}\n                    onChange={this.handleChange}\n                  />\n                </Grid>\n                <Grid item xs={12}>\n                  <TextField\n                    error={this.state.emailExists || this.state.emailError ? true : false}\n                    variant=\"outlined\"\n                    required\n                    fullWidth\n                    id=\"email\"\n                    label='Email Address'\n                    name=\"email\"\n                    autoComplete=\"email\"\n                    helperText={this.state.emailExists + this.state.emailError}\n                    onBlur={this.handleEmail}\n                    onChange={this.handleChange}\n                  />\n                </Grid>\n                <Grid item xs={12}>\n                  <TextField\n                    error={this.state.password1Error ? true : false}\n                    variant=\"outlined\"\n                    required\n                    fullWidth\n                    name=\"password1\"\n                    label='Password'\n                    type=\"password\"\n                    id=\"password1\"\n                    autoComplete=\"current-password\"\n                    helperText={this.state.password1Error}\n                    onBlur={this.validate}\n                    onChange={this.handleChange}\n                  />\n                </Grid>\n                <Grid item xs={12}>\n                  <TextField\n                    error={this.state.password2Error ? true : false}\n                    variant=\"outlined\"\n                    required\n                    fullWidth\n                    name=\"password2\"\n                    label='Re-enter password'\n                    type=\"password\"\n                    id=\"password2\"\n                    autoComplete=\"current-password\"\n                    helperText={this.state.password2Error}\n                    onBlur={this.validate}\n                    onChange={this.handleChange}\n                  />\n                </Grid>\n              </Grid>\n              <Button\n                className=\"mt-3\"\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n              >\n                Sign Up\n              </Button>\n              <Grid container justify=\"flex-end\">\n                <Grid item className=\"mt-1\">\n                  <Link href=\"/login\" variant=\"body2\">\n                    Already have an account? Sign in\n                  </Link>\n                </Grid>\n              </Grid>\n            </form>\n          </Paper>\n        </Box>\n      </Container>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}