{"ast":null,"code":"var _jsxFileName = \"/Users/william/Desktop/codersWho/coderswhoclient/src/components/views/Register.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faLock } from '@fortawesome/free-solid-svg-icons';\n\nrequire('dotenv/config');\n\nconst host = 'http://localhost:3005'; //const host = process.env.API_HOST;\n\nconsole.log('local host ' + host);\nexport default class SignUp extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.checkExists = event => {\n      const itemName = event.target.name;\n      const item = event.target.value;\n      console.log(itemName + ': ' + item);\n      axios.post(host + '/api/user/' + itemName + 'exists', itemName === 'email' ? {\n        email: item\n      } : {\n        username: item\n      }).then(response => {\n        console.log(\"Email exists?\", response);\n\n        if (response.data === true) {\n          itemName === 'email' ? this.setState({\n            emailExists: true,\n            emailError: 'EMAIL ALREADY EXISTS'\n          }) : this.setState({\n            usernameExists: true,\n            usernameError: 'USERNAME ALREADY EXISTS'\n          });\n        } else {\n          itemName === 'email' ? this.setState({\n            emailExists: false\n          }) : this.setState({\n            usernameExists: false\n          });\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.validate = event => {\n      let emailError = '';\n      let password1Error = '';\n      let password2Error = '';\n      let passwordCheck = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[^a-zA-Z0-9])[A-Za-z\\d@$#!|><}{/\\///\\\\/.,+;:=/\\\\[~`()\\]^_%*?&]{6,100}$/;\n\n      if (event.target.name === 'email') {\n        if (!this.state.email.includes('@') || !this.state.email.includes('.')) {\n          emailError = 'Invalid email';\n        }\n      }\n\n      if (event.target.name === 'password2') {\n        if (!this.state.password1.match(passwordCheck)) {\n          password1Error = 'Password must contain: one lowercase letter, one uppercase letter, one numeric character, one special character, and be at least 6 characters in length.';\n        }\n      }\n\n      if (event.target.name === 'password2') {\n        if (this.state.password1 !== this.state.password2) {\n          password2Error = 'Passwords do not match';\n        }\n      }\n\n      if (emailError || password1Error || password2Error) {\n        this.setState({\n          emailError,\n          password1Error,\n          password2Error\n        }); //return false\n      } //return true\n\n    };\n\n    this.handleEmail = event => {\n      this.checkExists(event);\n      this.validate(event);\n    };\n\n    this.state = {\n      firstName: '',\n      lastName: '',\n      email: '',\n      password1: '',\n      password2: '',\n      usernameExists: false,\n      emailExists: false,\n      emailError: '',\n      usernameError: '',\n      password2Error: ''\n    };\n    this.validate = this.validate.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleEmail = this.handleEmail.bind(this);\n  }\n\n  render() {\n    return React.createElement(Container, {\n      component: \"main\",\n      maxWidth: \"xs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(CssBaseline, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      className: \"mb-3\",\n      icon: faLock,\n      size: \"4x\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), React.createElement(Typography, {\n      component: \"h1\",\n      variant: \"h5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Sign up\"), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      noValidate: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      spacing: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      autoComplete: \"fname\",\n      name: \"firstName\",\n      variant: \"outlined\",\n      required: true,\n      fullWidth: true,\n      id: \"firstName\",\n      label: \"First Name\",\n      autoFocus: true,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      variant: \"outlined\",\n      required: true,\n      fullWidth: true,\n      id: \"lastName\",\n      label: \"Last Name\",\n      name: \"lastName\",\n      autoComplete: \"lname\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      error: this.state.usernameExists ? true : false,\n      variant: \"outlined\",\n      required: true,\n      fullWidth: true,\n      id: \"username\",\n      label: this.state.usernameError ? this.state.usernameError : 'Username',\n      name: \"username\",\n      autoComplete: \"username\",\n      onBlur: this.checkExists,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      variant: \"outlined\",\n      required: true,\n      fullWidth: true,\n      id: \"email\",\n      label: \"Email Address\",\n      name: \"email\",\n      autoComplete: \"email\",\n      onBlur: (this.checkExists, this.validate),\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      variant: \"outlined\",\n      required: true,\n      fullWidth: true,\n      name: \"password1\",\n      label: \"Password\",\n      type: \"password\",\n      id: \"password1\",\n      autoComplete: \"current-password\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      variant: \"outlined\",\n      required: true,\n      fullWidth: true,\n      name: \"password2\",\n      label: \"Re-enter Password\",\n      type: \"password\",\n      id: \"password2\",\n      autoComplete: \"current-password\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }))), React.createElement(Button, {\n      type: \"submit\",\n      fullWidth: true,\n      variant: \"contained\",\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, \"Sign Up\"), React.createElement(Grid, {\n      container: true,\n      justify: \"flex-end\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(Link, {\n      href: \"#\",\n      variant: \"body2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, \"Already have an account? Sign in\"))))), React.createElement(Box, {\n      mt: 5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/william/Desktop/codersWho/coderswhoclient/src/components/views/Register.js"],"names":["React","axios","Button","CssBaseline","TextField","Link","Grid","Box","Typography","Container","FontAwesomeIcon","faLock","require","host","console","log","SignUp","Component","constructor","props","handleChange","event","setState","target","name","value","checkExists","itemName","item","post","email","username","then","response","data","emailExists","emailError","usernameExists","usernameError","catch","error","validate","password1Error","password2Error","passwordCheck","state","includes","password1","match","password2","handleEmail","firstName","lastName","bind","render","handleSubmit"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\n\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faLock } from '@fortawesome/free-solid-svg-icons'\n\nrequire('dotenv/config');\n\nconst host = 'http://localhost:3005'\n//const host = process.env.API_HOST;\nconsole.log('local host ' + host)\n\nexport default class SignUp extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      firstName: '',\n      lastName: '',\n      email: '',\n      password1: '',\n      password2: '',\n      usernameExists: false,\n      emailExists: false,\n      emailError: '',\n      usernameError: '',\n      password2Error: '',\n    }\n    this.validate = this.validate.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleEmail = this.handleEmail.bind(this);\n\n  }\n\n  handleChange = event => {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  checkExists = (event) => {\n    const itemName = event.target.name;\n    const item = event.target.value;\n    console.log(itemName + ': ' + item)\n    axios.post(host + '/api/user/' + itemName + 'exists', \n    itemName === 'email' ? {email: item} : {username: item})\n    .then((response) => {\n      console.log(\"Email exists?\", response)\n      if(response.data === true){\n        itemName === 'email' ? \n        this.setState({\n          emailExists: true,\n          emailError: 'EMAIL ALREADY EXISTS'\n        }) : \n        this.setState({\n          usernameExists: true,\n          usernameError: 'USERNAME ALREADY EXISTS'\n        })\n      }else{\n        itemName === 'email' ? this.setState({emailExists: false}) : this.setState({usernameExists: false})\n    }})\n    .catch((error)=> {\n      console.log(error);\n    });\n  }\n\n  validate = (event) => {\n    let emailError = '';\n    let password1Error = '';\n    let password2Error = '';\n\n    let passwordCheck = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[^a-zA-Z0-9])[A-Za-z\\d@$#!|><}{/\\///\\\\/.,+;:=/\\\\[~`()\\]^_%*?&]{6,100}$/\n    if(event.target.name === 'email'){\n      if (!this.state.email.includes('@') || \n        !this.state.email.includes('.')) {\n        emailError = 'Invalid email'\n      }\n    }\n\n    if(event.target.name === 'password2'){\n      if (!this.state.password1.match(passwordCheck)) {\n        password1Error = 'Password must contain: one lowercase letter, one uppercase letter, one numeric character, one special character, and be at least 6 characters in length.'\n      }\n    }\n\n    if(event.target.name === 'password2'){\n      if(this.state.password1 !== this.state.password2){\n        password2Error = 'Passwords do not match'\n      }\n    }\n\n    if(emailError || password1Error || password2Error){\n      this.setState({emailError, password1Error, password2Error})\n      //return false\n    }\n    //return true\n  }\n\n  handleEmail = (event) => {\n    this.checkExists(event)\n    this.validate(event)\n  }\n\n  render(){\n    return (\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div>\n          <FontAwesomeIcon className=\"mb-3\" icon={faLock} size=\"4x\" />\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign up\n          </Typography>\n          <form onSubmit={this.handleSubmit} noValidate>\n            <Grid container spacing={2}>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  autoComplete=\"fname\"\n                  name=\"firstName\"\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  id=\"firstName\"\n                  label=\"First Name\"\n                  autoFocus\n                  onChange={this.handleChange}\n                />\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  id=\"lastName\"\n                  label=\"Last Name\"\n                  name=\"lastName\"\n                  autoComplete=\"lname\"\n                  onChange={this.handleChange}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  error={this.state.usernameExists ? true : false}\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  id=\"username\"\n                  label={this.state.usernameError ? this.state.usernameError : 'Username'}\n                  name=\"username\"\n                  autoComplete=\"username\"\n                  onBlur={this.checkExists}\n                  onChange={this.handleChange}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  id=\"email\"\n                  label=\"Email Address\"\n                  name=\"email\"\n                  autoComplete=\"email\"\n                  onBlur={this.checkExists, this.validate}\n                  onChange={this.handleChange}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  name=\"password1\"\n                  label=\"Password\"\n                  type=\"password\"\n                  id=\"password1\"\n                  autoComplete=\"current-password\"\n                  onChange={this.handleChange}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  name=\"password2\"\n                  label=\"Re-enter Password\"\n                  type=\"password\"\n                  id=\"password2\"\n                  autoComplete=\"current-password\"\n                  onChange={this.handleChange}\n                />\n              </Grid>\n            </Grid>\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n            >\n              Sign Up\n            </Button>\n            <Grid container justify=\"flex-end\">\n              <Grid item>\n                <Link href=\"#\" variant=\"body2\">\n                  Already have an account? Sign in\n                </Link>\n              </Grid>\n            </Grid>\n          </form>\n        </div>\n        <Box mt={5}>\n        </Box>\n      </Container>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}